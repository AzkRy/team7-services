<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Barangay Health Monitoring System</title>

  <style>
  body::before {
  content: "";
  position: fixed;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  background-image: url('https://jefmenguin.com/wp-content/uploads/2023/12/barangay.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  filter: blur(5px) brightness(0.6);
  z-index: -1;
}

    h1 {
       text-align: center;
       color: #fdffff;
       font-size: 45px;
       font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
       text-shadow:
       -3px -1px 0 #00838f,
        3px -1px 0 #00838f,
       -3px  1px 0 #00838f,
        3px  1px 0 #00838f;
}   
    form {
      max-width: 1000px;
      margin: 0 auto;
      background-color: #ffffff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 50, 50, 0.1);
    }

    label {
      font-size: 19px;
      display: block;
      margin-top: 10px;
      font-weight: bold;
      color: #003c4d;
    }

    input, select, textarea, button {
      font-size: 17px;
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      margin-bottom: 12px;
      border-radius: 6px;
      border: 1px solid #a0cfcf;
    }

    input[type="radio"], input[type="checkbox"] {
      font-size: 12px;
      width: auto;
      margin-right: 6px;
    }

    .checkbox-group {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 8px;
      margin-bottom: 12px;
    }

    button {
      background-color: #00838f; 
      color: white;
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: 0.3s ease;
    }

    button:hover {
      background-color: #005f66;
    }

    .confirmation {
      font-size: 23px;
      display: none;
      text-align: center;
      margin-top: 20px;
      padding: 15px;
      background-color: #d9faff;
      color: #006666;
      font-weight: bold;
      border-radius: 10px;
      border: 1px solid #b2dfdb;
    }

    @media print {
      form, button {
        display: none;
      }
    }
  </style>
</head>
<body>

  <h1>Barangay Health Monitoring System</h1>

  <form id="healthSurveyForm">
    <label>Full Name:</label>
    <input type="text" required name="fullName">

    <label>Age:</label>
    <input type="number" required name="age" min="1" max="120">

    <label>Gender:</label>
    <input type="radio" required name="gender" value="Male"> Male
    <input type="radio" required name="gender" value="Female"> Female

    <label>Address:</label>
    <select name="address" required>
      <option value="" disabled selected>Select your area</option>
      <option value="Area 1">Area 1</option>
      <option value="Area 2">Area 2</option>
      <option value="Area 3">Area 3</option>
      <option value="Area 4">Area 4</option>
      <option value="Area 5">Area 5</option>
      <option value="Area 6">Area 6</option>
    </select>

    <label>Vaccination Status:</label>
    <select name="vaccination" required>
      <option value="" disabled selected>Select vaccination status</option>
      <option value="✔️ Vaccinated">✔️ Vaccinated</option>
      <option value="❌ Unvaccinated">❌ Unvaccinated</option>
    </select>

    <label>Recent Symptoms:</label>
    <div class="checkbox-group">
      <label><input type="checkbox" name="symptoms" value="Fever"> Fever</label>
      <label><input type="checkbox" name="symptoms" value="Cough"> Cough</label>
      <label><input type="checkbox" name="symptoms" value="Fatigue"> Fatigue</label>
      <label><input type="checkbox" name="symptoms" value="Sore throat"> Sore throat</label>
      <label><input type="checkbox" name="symptoms" value="Loss of taste or smell"> Loss of taste or smell</label>
      <label><input type="checkbox" name="symptoms" value="Nausea or vomiting"> Nausea or vomiting</label>
      <label><input type="checkbox" name="symptoms" value="Muscle or body aches"> Muscle or body aches</label>
      <label><input type="checkbox" name="symptoms" value="Shortness of breath or difficulty breathing"> Shortness of breath or difficulty breathing</label>
      <label><input type="checkbox" name="symptoms" value="No current symptoms"> No current symptoms</label>
    </div>

    <label>Last Medical Checkup:</label>
    <input type="date" required name="checkup">

    <label>Additional Health Notes:</label>
    <textarea name="notes" rows="4"></textarea>

    <button type="submit">Submit Survey</button>
    <button type="button" id="exportExcelBtn">Export to Excel</button>

    <div class="confirmation" id="confirmation">✅ Your response has been recorded. Thank you!</div>
  </form>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  <script>
    const form = document.getElementById('healthSurveyForm');
    const confirmation = document.getElementById('confirmation');
    const exportBtn = document.getElementById('exportExcelBtn');
    const submissions = [];

    form.addEventListener('submit', function(event) {
      event.preventDefault();

      const formData = new FormData(form);
      const data = {
        'Full Name': formData.get('fullName'),
        'Age': formData.get('age'),
        'Gender': formData.get('gender'),
        'Address': formData.get('address'),
        'Vaccination Status': formData.get('vaccination'),
        'Recent Symptoms': formData.getAll('symptoms').join(', '),
        'Last Medical Checkup': formData.get('checkup'),
        'Additional Health Notes': formData.get('notes')
      };

      submissions.push(data);
      confirmation.style.display = 'block';
      form.reset();
    });

    exportBtn.addEventListener('click', function () {
      if (submissions.length === 0) {
        alert("No data to export yet.");
        return;
      }

      const worksheet = XLSX.utils.json_to_sheet(submissions);
      const workbook = XLSX.utils.book_new();
      XLSX.utils.book_append_sheet(workbook, worksheet, "Survey Data");

      XLSX.writeFile(workbook, "All_HealthSurveyData.xlsx");
    });
  </script>

</body>
</html>
